(()=>{(function(){"use strict";function s(){let e=document.getElementById("mobile-menu-toggle"),t=document.getElementById("main-nav");if(!e||!t)return;e.addEventListener("click",function(){t.classList.toggle("mobile-open");let o=t.classList.contains("mobile-open");e.setAttribute("aria-expanded",o),e.textContent=o?"\u2715":"\u2630"}),t.querySelectorAll(".has-dropdown").forEach(function(o){o.querySelector("a").addEventListener("click",function(i){window.innerWidth<=768&&(i.preventDefault(),o.classList.toggle("mobile-open"))})}),document.addEventListener("click",function(o){!t.contains(o.target)&&!e.contains(o.target)&&(t.classList.remove("mobile-open"),e.setAttribute("aria-expanded","false"),e.textContent="\u2630")})}function d(){document.querySelectorAll(".has-dropdown").forEach(function(t){let n=t.querySelector("a"),o=t.querySelector("ul");if(!o)return;n.addEventListener("keydown",function(i){if((i.key==="Enter"||i.key===" ")&&window.innerWidth>768){i.preventDefault();let l=o.querySelector("a");l&&l.focus()}i.key==="Escape"&&n.focus()});let r=o.querySelectorAll("a");r.forEach(function(i,l){i.addEventListener("keydown",function(c){c.key==="ArrowDown"?(c.preventDefault(),(r[l+1]||r[0]).focus()):c.key==="ArrowUp"?(c.preventDefault(),(r[l-1]||n).focus()):c.key==="Escape"&&(c.preventDefault(),n.focus())})})})}function u(){let e=document.querySelector(".search-toggle");e&&e.addEventListener("click",function(){alert("Search functionality - to be implemented")})}function f(){let e=document.querySelector(".lang-toggle");e&&e.addEventListener("click",function(){let t=this.textContent.trim();this.textContent=t==="FR"?"EN":"FR",console.log("Language toggle clicked - to be implemented")})}function m(){let e=document.querySelector(".skip-link");e&&e.addEventListener("click",function(t){let n=document.querySelector("#main-content");n&&(t.preventDefault(),n.focus(),n.scrollIntoView({behavior:"smooth"}))})}function g(){let e=document.querySelector("header"),t=0;e&&window.addEventListener("scroll",function(){let n=window.pageYOffset;n>0?e.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)":e.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)",t=n})}function p(){let e;window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){let t=document.getElementById("main-nav"),n=document.getElementById("mobile-menu-toggle");window.innerWidth>768&&t&&(t.classList.remove("mobile-open"),n&&(n.setAttribute("aria-expanded","false"),n.textContent="\u2630"))},250)})}function a(){s(),d(),u(),f(),m(),g(),p(),console.log("Bank of Canada theme initialized")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})();})();
