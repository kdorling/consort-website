(()=>{(function(){"use strict";function a(){let e=document.getElementById("main-nav");if(!e)return;let n=e.querySelectorAll(".has-dropdown");n.forEach(function(t){t.querySelector("a").addEventListener("click",function(i){window.innerWidth>768?(i.preventDefault(),n.forEach(function(c){c!==t&&c.classList.remove("dropdown-open")}),t.classList.toggle("dropdown-open")):(i.preventDefault(),t.classList.toggle("mobile-open"),console.log("Mobile dropdown toggled:",t.classList.contains("mobile-open")))})}),document.addEventListener("click",function(t){e.contains(t.target)||n.forEach(function(o){o.classList.remove("dropdown-open"),o.classList.remove("mobile-open")})}),document.addEventListener("keydown",function(t){t.key==="Escape"&&n.forEach(function(o){o.classList.remove("dropdown-open"),o.classList.remove("mobile-open")})})}function d(){let e=document.getElementById("mobile-menu-toggle"),n=document.querySelector(".nav-container"),t=document.getElementById("main-nav");!e||!n||(e.addEventListener("click",function(o){o.stopPropagation(),n.classList.toggle("mobile-open");let i=n.classList.contains("mobile-open");e.setAttribute("aria-expanded",i),e.textContent=i?"\u2715":"\u2630",i?document.body.classList.add("mobile-menu-open"):document.body.classList.remove("mobile-menu-open")}),document.addEventListener("click",function(o){!n.contains(o.target)&&!e.contains(o.target)&&(n.classList.remove("mobile-open"),e.setAttribute("aria-expanded","false"),e.textContent="\u2630",document.body.classList.remove("mobile-menu-open"))}))}function u(){document.querySelectorAll(".has-dropdown").forEach(function(n){let t=n.querySelector("a"),o=n.querySelector("ul");if(!o)return;t.addEventListener("keydown",function(c){if((c.key==="Enter"||c.key===" ")&&window.innerWidth>768){c.preventDefault();let s=o.querySelector("a");s&&s.focus()}c.key==="Escape"&&t.focus()});let i=o.querySelectorAll("a");i.forEach(function(c,s){c.addEventListener("keydown",function(r){r.key==="ArrowDown"?(r.preventDefault(),(i[s+1]||i[0]).focus()):r.key==="ArrowUp"?(r.preventDefault(),(i[s-1]||t).focus()):r.key==="Escape"&&(r.preventDefault(),t.focus())})})})}function m(){let e=document.querySelector(".search-toggle");e&&e.addEventListener("click",function(){alert("Search functionality - to be implemented")})}function f(){let e=document.querySelector(".lang-toggle");e&&e.addEventListener("click",function(){let n=this.textContent.trim();this.textContent=n==="FR"?"EN":"FR",console.log("Language toggle clicked - to be implemented")})}function g(){let e=document.getElementById("theme-toggle"),n=e?.querySelector(".theme-icon");if(!e)return;let t=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",t),n&&(n.textContent=t==="dark"?"\u2600\uFE0F":"\u{1F319}"),e.addEventListener("click",function(){let i=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.setAttribute("data-theme",i),n&&(n.textContent=i==="dark"?"\u2600\uFE0F":"\u{1F319}"),localStorage.setItem("theme",i),console.log("Theme switched to:",i)})}function h(){let e=document.querySelector(".skip-link");e&&e.addEventListener("click",function(n){let t=document.querySelector("#main-content");t&&(n.preventDefault(),t.focus(),t.scrollIntoView({behavior:"smooth"}))})}function p(){let e=document.querySelector("header"),n=document.querySelector(".header-container"),t=document.querySelector(".nav-container"),o=0,i=100;e&&window.addEventListener("scroll",function(){let c=window.pageYOffset;window.innerWidth>768?c>i&&c>o?e.classList.add("header-scrolled"):c<i&&e.classList.remove("header-scrolled"):e.classList.remove("header-scrolled"),c>0?e.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)":e.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)",o=c})}function v(){let e;window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){let n=document.querySelector(".nav-container"),t=document.getElementById("mobile-menu-toggle");window.innerWidth>768&&n&&(n.classList.remove("mobile-open"),document.body.classList.remove("mobile-menu-open"),t&&(t.setAttribute("aria-expanded","false"),t.textContent="\u2630"))},250)})}function l(){a(),d(),u(),m(),f(),g(),h(),p(),v(),console.log("Bank of Canada theme initialized")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",l):l()})();})();
