(()=>{(function(){"use strict";function a(){let n=document.getElementById("main-nav");if(!n)return;let t=n.querySelectorAll(".has-dropdown");t.forEach(function(e){e.querySelector("a").addEventListener("click",function(c){window.innerWidth>768?(c.preventDefault(),t.forEach(function(i){i!==e&&i.classList.remove("dropdown-open")}),e.classList.toggle("dropdown-open")):(c.preventDefault(),e.classList.toggle("mobile-open"))})}),document.addEventListener("click",function(e){n.contains(e.target)||t.forEach(function(o){o.classList.remove("dropdown-open"),o.classList.remove("mobile-open")})}),document.addEventListener("keydown",function(e){e.key==="Escape"&&t.forEach(function(o){o.classList.remove("dropdown-open"),o.classList.remove("mobile-open")})})}function d(){let n=document.getElementById("mobile-menu-toggle"),t=document.getElementById("main-nav");!n||!t||(n.addEventListener("click",function(e){e.stopPropagation(),t.classList.toggle("mobile-open");let o=t.classList.contains("mobile-open");n.setAttribute("aria-expanded",o),n.textContent=o?"\u2715":"\u2630"}),document.addEventListener("click",function(e){!t.contains(e.target)&&!n.contains(e.target)&&(t.classList.remove("mobile-open"),n.setAttribute("aria-expanded","false"),n.textContent="\u2630")}))}function u(){document.querySelectorAll(".has-dropdown").forEach(function(t){let e=t.querySelector("a"),o=t.querySelector("ul");if(!o)return;e.addEventListener("keydown",function(i){if((i.key==="Enter"||i.key===" ")&&window.innerWidth>768){i.preventDefault();let s=o.querySelector("a");s&&s.focus()}i.key==="Escape"&&e.focus()});let c=o.querySelectorAll("a");c.forEach(function(i,s){i.addEventListener("keydown",function(r){r.key==="ArrowDown"?(r.preventDefault(),(c[s+1]||c[0]).focus()):r.key==="ArrowUp"?(r.preventDefault(),(c[s-1]||e).focus()):r.key==="Escape"&&(r.preventDefault(),e.focus())})})})}function f(){let n=document.querySelector(".search-toggle");n&&n.addEventListener("click",function(){alert("Search functionality - to be implemented")})}function m(){let n=document.querySelector(".lang-toggle");n&&n.addEventListener("click",function(){let t=this.textContent.trim();this.textContent=t==="FR"?"EN":"FR",console.log("Language toggle clicked - to be implemented")})}function g(){let n=document.querySelector(".skip-link");n&&n.addEventListener("click",function(t){let e=document.querySelector("#main-content");e&&(t.preventDefault(),e.focus(),e.scrollIntoView({behavior:"smooth"}))})}function p(){let n=document.querySelector("header"),t=0;n&&window.addEventListener("scroll",function(){let e=window.pageYOffset;e>0?n.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)":n.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)",t=e})}function v(){let n;window.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(function(){let t=document.getElementById("main-nav"),e=document.getElementById("mobile-menu-toggle");window.innerWidth>768&&t&&(t.classList.remove("mobile-open"),e&&(e.setAttribute("aria-expanded","false"),e.textContent="\u2630"))},250)})}function l(){a(),d(),u(),f(),m(),g(),p(),v(),console.log("Bank of Canada theme initialized")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",l):l()})();})();
